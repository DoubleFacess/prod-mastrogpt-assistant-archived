!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.NuvolarisAssistant=o():t.NuvolarisAssistant=o()}(self,(()=>(()=>{"use strict";var t={71:(t,o,n)=>{n.d(o,{A:()=>i});var e=n(601),s=n.n(e),r=n(314),a=n.n(r)()(s());a.push([t.id,":host{bottom:25px;display:block;position:fixed;right:25px;z-index:9999}.icon{fill:#fff}button{background-color:#0070f3;border:none;border-radius:50%;color:#fff;cursor:pointer;height:60px;padding:10px;transition:background-color .3s;width:60px}button:hover{background-color:#0051bb}.close-btn{align-items:center;background-color:#ccc;border:none;border-radius:50%;cursor:pointer;display:flex;height:20px;justify-content:center;position:absolute;right:10px;top:10px;width:20px}.close-btn:hover{background-color:#aaa}.chat-log{border-bottom:1px solid #ccc;flex-grow:1;overflow-y:auto;padding:10px}.chat-log .message{margin-bottom:10px}.chat-log .message.user{color:#000}.chat-log .message.assistant{color:#0070f3}.chat-log .message.assistant-thinking{color:#0070f3;font-style:italic}.chat-input{background-color:#f7f7f7;border-bottom-left-radius:8px;border-bottom-right-radius:8px;display:flex;padding:5px}.chat-input input{border:1px solid #ccc;border-radius:5px;flex-grow:1;font-size:14px;padding:5px 10px}.chat-input button{font-size:14px;margin-left:5px;padding:5px 10px}.send-btn{background-color:#0070f3;border:none;border-radius:5px;color:#fff;cursor:pointer;font-size:14px;padding:5px 15px;transition:background-color .3s}.send-btn[disabled]{background-color:#b3b3b3;cursor:not-allowed}.send-btn:hover{background-color:#0051bb}.chat-window{background-color:#fff;border:1px solid #ccc;border-radius:8px;bottom:80px;box-shadow:0 2px 10px rgba(0,0,0,.1);flex-direction:column;height:400px;position:absolute;right:0;width:300px}",""]);const i=a},314:t=>{t.exports=function(t){var o=[];return o.toString=function(){return this.map((function(o){var n="",e=void 0!==o[5];return o[4]&&(n+="@supports (".concat(o[4],") {")),o[2]&&(n+="@media ".concat(o[2]," {")),e&&(n+="@layer".concat(o[5].length>0?" ".concat(o[5]):""," {")),n+=t(o),e&&(n+="}"),o[2]&&(n+="}"),o[4]&&(n+="}"),n})).join("")},o.i=function(t,n,e,s,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(e)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(a[c]=!0)}for(var d=0;d<t.length;d++){var l=[].concat(t[d]);e&&a[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),s&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=s):l[4]="".concat(s)),o.push(l))}},o}},601:t=>{t.exports=function(t){return t[1]}}},o={};function n(e){var s=o[e];if(void 0!==s)return s.exports;var r=o[e]={id:e,exports:{}};return t[e](r,r.exports,n),r.exports}n.n=t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return n.d(o,{a:o}),o},n.d=(t,o)=>{for(var e in o)n.o(o,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})},n.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o);var e={};return(()=>{n.d(e,{default:()=>a});var t=n(71);function o(t){return!!document.getElementById(t)&&document.getElementById(t)}function s(t){return!!document.querySelector(t)&&document.querySelector(t)}s(".profile-class"),s(".widget"),o("close"),o("chat-button"),o("sendButton"),o("userInput"),s(".usrInput"),s(".chats"),o("chats");const r={chatIcon:'\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon">\n            <path d="M2 15V5c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v15a1 1 0 0 1-1.7.7L16.58 17H4a2 2 0 0 1-2-2z"/>\n            <path  d="M6 7h12a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm0 4h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2z"/>\n        </svg>\n    ',closeIcon:'\n        <svg xmlns="http://www.w3.org/2000/svg" style="display: block; margin: auto; transform: scale(1.5, 1.5);" viewBox="0 0 24 24" class="icon">\n            <path transform="translate(0.5,0)" fill-rule="evenodd" d="M15.78 14.36a1 1 0 0 1-1.42 1.42l-2.82-2.83-2.83 2.83a1 1 0 1 1-1.42-1.42l2.83-2.82L7.3 8.7a1 1 0 0 1 1.42-1.42l2.83 2.83 2.82-2.83a1 1 0 0 1 1.42 1.42l-2.83 2.83 2.83 2.82z"/>\n        </svg>\n    '};function a(){class o extends HTMLElement{constructor(){super(),this.isOpen=!1,this.attachShadow({mode:"open"}),this.isOpen=!1,this.messages=[],this.thinkingTimeout=null,this.apiPending=!1,this.totalTokens=0,this.styles=""}connectedCallback(){console.log("connected callback"),this.render(),this.addEventListeners()}get _shadowRoot(){return this.shadowRoot}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n          <style>${t.A}</style>\n          <button class="toggle-chat-btn">${this.isOpen?r.closeIcon:r.chatIcon}</button>\n          <div class="chat-window">\n            <button class="close-btn">Ã—</button>\n            <div class="chat-log">\n              ${this.messages.map((t=>`<div class="message ${t.role}">${t.content}</div>`)).join("")}\n            </div>\n            <div class="chat-input">\n                <input type="text" placeholder="Type a message...">\n                <button class="send-btn" ${this.apiPending?"disabled":""}>Send</button>\n              </div>\n            </div>\n        `)}addEventListeners(){this.shadowRoot&&this._shadowRoot().querySelector(".toggle-chat-btn").addEventListener("click",this.handleToggleChatClick.bind(this))}handleToggleChatClick(t){t.stopPropagation(),this.toggleChat()}toggleChat(){this.isOpen=!this.isOpen,this.render(),this.addEventListeners()}}customElements.get("chat-bot")||(console.log("customElement defined"),customElements.define("chat-bot",o))}a()})(),e.default})()));